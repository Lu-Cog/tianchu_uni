{"version":3,"sources":["uni-app:///main.js","webpack:///D:/1myProject/天楚/tianchu_uni/pages/index/index.vue?042a","webpack:///D:/1myProject/天楚/tianchu_uni/pages/index/index.vue?8841","webpack:///D:/1myProject/天楚/tianchu_uni/pages/index/index.vue?cfb7","webpack:///D:/1myProject/天楚/tianchu_uni/pages/index/index.vue?88c5","uni-app:///pages/index/index.vue","webpack:///D:/1myProject/天楚/tianchu_uni/pages/index/index.vue?5ac3","webpack:///D:/1myProject/天楚/tianchu_uni/pages/index/index.vue?15e0"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;;;;;;;;;;;;kDAAA;;;AAGA;AACA,4F,8FAHA;AACAA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC,CAGAC,UAAU,CAACC,cAAD,CAAV,C;;;;;;;;;;;;ACLA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;AACc;;;AAGlE;AACoM;AACpM,gBAAgB,2MAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAA0vB,CAAgB,qwBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC2E9wB;AACA,2D;;;;AAIA;AACA,MADA,kBACA;AACA;AACA,gBADA;AAEA,kBAFA;AAGA,aAHA;AAIA,aAJA;AAKA,cALA;;AAOA,GATA;AAUA,aAVA,uBAUA,CAVA,EAUA;AACA;AACA;AACA;AACA;AACA,GAfA;AAgBA,QAhBA,oBAgBA;AACA;AACA;AACA;AACA,+CAJA,CAIA;AACA;AACA;AACA;AACA;AACA,kDAJA,CAIA;AACA,KALA,EAKA,IALA;AAMA;AACA,GA5BA;AA6BA;AACA,WADA,qBACA;AACA;AACA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SA7BA;;AA+BA,KAlCA;AAmCA;AACA,uBApCA,iCAoCA;AACA,oBADA,GACA,MADA;AAEA,yGAFA,SAEA,MAFA;AAGA;AACA;AACA,iCADA;AAEA;AACA;AACA;AACA;AACA;AACA,qBAPA;AAQA,wBARA,kBAQA;AACA;AACA;AACA,qCADA;AAEA,oCAFA;;AAIA,qBAdA;;AAgBA,iBAjBA,MAiBA;AACA;AACA;AACA,+BADA;AAEA,wCAFA;AAGA,qCAHA;AAIA,2BAJA,qBAIA;AACA,qEADA,CACA;AACA,qBANA;;AAQA,iBA9BA;AA+BA,KAnEA;AAoEA,mCApEA,6CAoEA;AACA;AACA,2CAFA,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBADA;AAEA,gCAFA;AAGA,6BAHA,EAGA;AACA,mBAJA,qBAIA;AACA;AACA;AACA;AACA;AACA;AACA,2CALA,CAKA;AACA,eANA,MAMA;AACA;AACA;AACA,aAdA;;AAgBA,SAjBA,MAiBA;AACA;AACA;AACA,OAzBA,MAyBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBADA;AAEA;AACA;AACA;AACA,aALA;;AAOA,SATA,MASA;AACA;AACA;AACA,uBADA;AAEA,4CAFA;AAGA,6BAHA,EAGA;AACA,mBAJA,qBAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAbA;;AAeA;AACA;AACA,KAlIA;;AAoIA,eApIA,yBAoIA;AACA;AACA;AACA,OAFA;AAGA,KAxIA;AAyIA,QAzIA,kBAyIA;AACA;AACA,KA3IA;AA4IA,QA5IA,kBA4IA;AACA;AACA;AACA,uBADA;AAEA,kBAFA;;AAIA;AACA;AACA,KApJA;AAqJA,UArJA,oBAqJA;AACA;AACA;AACA,qBADA;AAEA,qBAFA;AAGA,uBAHA;;AAKA;AACA;AACA;AACA,gCADA;AAEA,iBAFA,mBAEA,GAFA,EAEA;AACA;AACA;AACA;AACA,gCADA;AAEA,8BAFA;;AAIA;AACA,eANA;AAOA;AACA,WAZA;;AAcA,OAfA,MAeA;AACA;AACA;AACA,0BADA;AAEA,wBAFA;;AAIA;AACA,SANA;AAOA;AACA,KArLA,EA7BA,E;;;;;;;;;;;;;;;;;;AChFA;AAAA;AAAA;AAAA;AAA83C,CAAgB,60CAAG,EAAC,C;;;;;;;;;;ACAl5C;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/index/index.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/index/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=57280228&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/index/index.vue\"\nexport default component.exports","export * from \"-!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=template&id=57280228&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<view class=\"header\">\r\n\t\t\t<view class=\"status_bar\"></view>\r\n\t\t\t<view class=\"head flex acen jcen\">\r\n\t\t\t\t<image src=\"../../static/img/back.png\" mode=\"widthFix\" @click=\"back\"></image>\r\n\t\t\t\t<text>考勤打卡</text>\r\n\t\t\t\t<navigator url=\"/pages/index/dakaList\" hover-class=\"none\">打卡记录</navigator>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"headmain flex\">\r\n\t\t\t\t<image :src=\"dakaInfo.avatarPath\" mode=\"aspectFill\"></image>\r\n\t\t\t\t<view class=\"headInfo flex fCol jbtw\">\r\n\t\t\t\t\t<view class=\"headTop\">\r\n\t\t\t\t\t\t<text>{{dakaInfo.nickName}}</text>\r\n\t\t\t\t\t\t<text>工号：{{dakaInfo.workNo}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"headBtm\">\r\n\t\t\t\t\t\t岗位：{{dakaInfo.roleName}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"dakaMain flex fCol acen\">\r\n\t\t\t<view class=\"title\">\r\n\t\t\t\t{{dakaInfo.zhaohu1}}\r\n\t\t\t</view>\r\n\t\t\t<view class=\"dklist flex jbtw\">\r\n\t\t\t\t<view class=\"dkItem\">\r\n\t\t\t\t\t<view class=\"dktime\">\r\n\t\t\t\t\t\t{{dakaInfo.left1}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"dkbtm flex acen jard\" v-if=\"dakaInfo.left2\">\r\n\t\t\t\t\t\t<image :src=\"dakaInfo.left3!=0?'../../static/img/ydk.png':'../../static/img/qk.png'\"\r\n\t\t\t\t\t\t\tmode=\"widthFix\"></image>\r\n\t\t\t\t\t\t<text>{{dakaInfo.left2}}</text>\r\n\t\t\t\t\t\t<text v-if=\"dakaInfo.left3==3\">迟到</text>\r\n\t\t\t\t\t\t<text v-if=\"dakaInfo.left3==0\">缺卡</text>\r\n\t\t\t\t\t\t<text v-if=\"dakaInfo.left3==1\">正常</text>\r\n\t\t\t\t\t\t<text v-if=\"dakaInfo.left3==2\">早退</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"dkbtm flex acen jard\" v-else>\r\n\t\t\t\t\t\t<text>暂未打卡</text>\r\n\t\t\t\t\t\t<text style=\"display: none;\"></text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"dkItem\">\r\n\t\t\t\t\t<view class=\"dktime\">\r\n\t\t\t\t\t\t{{dakaInfo.right1}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"dkbtm flex acen jard\" v-if=\"dakaInfo.right2\">\r\n\t\t\t\t\t\t<image :src=\"dakaInfo.right3!=0?'../../static/img/ydk.png':'../../static/img/qk.png'\"\r\n\t\t\t\t\t\t\tmode=\"widthFix\"></image>\r\n\t\t\t\t\t\t<text>{{dakaInfo.right2}}</text>\r\n\t\t\t\t\t\t<text v-if=\"dakaInfo.right3==3\">迟到</text>\r\n\t\t\t\t\t\t<text v-if=\"dakaInfo.right3==0\">缺卡</text>\r\n\t\t\t\t\t\t<text v-if=\"dakaInfo.right3==1\">正常</text>\r\n\t\t\t\t\t\t<text v-if=\"dakaInfo.right3==2\">早退</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"dkbtm flex acen jard\" v-else>\r\n\t\t\t\t\t\t<text>暂未打卡</text>\r\n\t\t\t\t\t\t<text style=\"display: none;\"></text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"daka flex acen jcen\">\r\n\t\t\t\t<view class=\"dakan flex fCol acen jcen\" @click=\"daka()\">\r\n\t\t\t\t\t<text>{{dakaInfo.tip}}</text>\r\n\t\t\t\t\t<text>{{mytime}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport permision from \"@/js_sdk/wa-permission/permission.js\"\r\n\timport {\r\n\t\tgetDakaInfo,\r\n\t\tgetDakaAct\r\n\t} from '../../api/api.js'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tmytime: '',\r\n\t\t\t\tdakaInfo: {},\r\n\t\t\t\tlon: '',\r\n\t\t\t\tlat: '',\r\n\t\t\t\twifi:''\r\n\t\t\t}\r\n\t\t},\r\n\t\tonBackPress(e) {\r\n\t\t\tif (e.from == 'backbutton') {\r\n\t\t\t\tuni.sendNativeEvent('back')\r\n\t\t\t\treturn true\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tlet hour = new Date().getHours() < 10 ? '0' + new Date().getHours() : new Date().getHours()\r\n\t\t\tlet min = new Date().getMinutes() < 10 ? '0' + new Date().getMinutes() : new Date().getMinutes()\r\n\t\t\tlet sec = new Date().getSeconds() < 10 ? '0' + new Date().getSeconds() : new Date().getSeconds()\r\n\t\t\tthis.mytime = hour + ':' + min + ':' + sec; //获取当前时间\r\n\t\t\tsetInterval(() => {\r\n\t\t\t\tlet hour = new Date().getHours() < 10 ? '0' + new Date().getHours() : new Date().getHours()\r\n\t\t\t\tlet min = new Date().getMinutes() < 10 ? '0' + new Date().getMinutes() : new Date().getMinutes()\r\n\t\t\t\tlet sec = new Date().getSeconds() < 10 ? '0' + new Date().getSeconds() : new Date().getSeconds()\r\n\t\t\t\tthis.mytime = hour + ':' + min + ':' + sec; //获取当前时间\r\n\t\t\t}, 1000)\r\n\t\t\tthis.getDakaInfo()\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgetWifi(){\r\n\t\t\t\tlet that = this\r\n\t\t\t\tuni.getNetworkType({\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tif (res.networkType != \"wifi\") {\r\n\t\t\t\t\t\t\tthat.wifi = \"\"\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t//判断获取的WiFi是否为机型WiFi\r\n\t\t\t\t\t\t\t// 主窗体  \r\n\t\t\t\t\t\t\tvar MainActivity = plus.android.runtimeMainActivity()\r\n\t\t\t\t\t\t\t// 上下文  \r\n\t\t\t\t\t\t\tvar Context = plus.android.importClass('android.content.Context')\r\n\t\t\t\t\t\t\t// 导入WIFI管理 和 WIFI 信息 的class  \r\n\t\t\t\t\t\t\tplus.android.importClass(\"android.net.wifi.WifiManager\")\r\n\t\t\t\t\t\t\tplus.android.importClass(\"android.net.wifi.WifiInfo\")\r\n\t\t\t\t\t\t\tplus.android.importClass(\"android.net.wifi.ScanResult\")\r\n\t\t\t\t\t\t\tplus.android.importClass(\"java.util.ArrayList\")\r\n\t\t\t\t\t\t\t// 获取 WIFI 管理实例  \r\n\t\t\t\t\t\t\tvar wifiManager = MainActivity.getSystemService(Context.WIFI_SERVICE)\r\n\t\t\t\t\r\n\t\t\t\t\t\t\t// 获取当前连接WIFI的信息  \r\n\t\t\t\t\t\t\tvar info = wifiManager.getConnectionInfo()\r\n\t\t\t\t\r\n\t\t\t\t\t\t\t// 获取当前 WIFI 连接的 SSID (WIFI 名称)  \r\n\t\t\t\t\t\t\tvar ssid = info.getSSID()\r\n\t\t\t\t\t\t\t// 这里的 获取到的名称 是 带 双引号的 如 \"cmcc\"    \r\n\t\t\t\t\t\t\t// 所以我们这里处理一下  \r\n\t\t\t\t\t\t\tssid = ssid.replace(/(^\\\"*)|(\\\"*$)/g, \"\")\r\n\t\t\t\t\t\t\tthat.wifi = ssid\r\n\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 检查是否开启位置信息权限\r\n\t\t\tasync checkOpenPermission() {\r\n\t\t\t\tlet that = this\r\n\t\t\t\tlet result = await permision.requestAndroidPermission('android.permission.ACCESS_FINE_LOCATION');\r\n\t\t\t\tif (result == 1) {\r\n\t\t\t\t\tuni.getLocation({\r\n\t\t\t\t\t\ttype: 'wgs84',\r\n\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\tthat.lon = res.longitude\r\n\t\t\t\t\t\t\tthat.lat = res.latitude\r\n\t\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t\tthat.doDaka()\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail() {\r\n\t\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '定位失败',\r\n\t\t\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\t\tcontent: '请开启位置信息权限',\r\n\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\tsuccess() {\r\n\t\t\t\t\t\t\tpermision.gotoAppPermissionSetting(); // 打开权限设置界面\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcheckOpenGPSServiceByAndroidIOS() {\r\n\t\t\t\tlet that = this\r\n\t\t\t\tlet system = uni.getSystemInfoSync(); // 获取系统信息\r\n\t\t\t\tif (system.platform === 'android') { // 判断平台\r\n\t\t\t\t\tvar context = plus.android.importClass(\"android.content.Context\");\r\n\t\t\t\t\tvar locationManager = plus.android.importClass(\"android.location.LocationManager\");\r\n\t\t\t\t\tvar main = plus.android.runtimeMainActivity();\r\n\t\t\t\t\tvar mainSvr = main.getSystemService(context.LOCATION_SERVICE);\r\n\t\t\t\t\tif (!mainSvr.isProviderEnabled(locationManager.GPS_PROVIDER)) {\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\t\t\tcontent: '请打开定位服务功能',\r\n\t\t\t\t\t\t\tshowCancel: false, // 不显示取消按钮\r\n\t\t\t\t\t\t\tsuccess() {\r\n\t\t\t\t\t\t\t\tif (!mainSvr.isProviderEnabled(locationManager.GPS_PROVIDER)) {\r\n\t\t\t\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t\t\t\tvar Intent = plus.android.importClass('android.content.Intent');\r\n\t\t\t\t\t\t\t\t\tvar Settings = plus.android.importClass('android.provider.Settings');\r\n\t\t\t\t\t\t\t\t\tvar intent = new Intent(Settings.ACTION_LOCATION_SOURCE_SETTINGS);\r\n\t\t\t\t\t\t\t\t\tmain.startActivity(intent); // 打开系统设置GPS服务页面\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tthat.checkOpenPermission()\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthat.checkOpenPermission()\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (system.platform === 'ios') {\r\n\t\t\t\t\tvar cllocationManger = plus.ios.import(\"CLLocationManager\");\r\n\t\t\t\t\tvar enable = cllocationManger.locationServicesEnabled();\r\n\t\t\t\t\tvar status = cllocationManger.authorizationStatus();\r\n\t\t\t\t\tplus.ios.deleteObject(cllocationManger);\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\tif (enable && status != 2) {\r\n\t\t\t\t\t\tconsole.log(\"手机系统的定位已经打开\");\r\n\t\t\t\t\t\tuni.getLocation({\r\n\t\t\t\t\t\t\ttype: 'wgs84',\r\n\t\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\t\tthat.lon = res.longitude\r\n\t\t\t\t\t\t\t\tthat.lat = res.latitude\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.log(\"手机系统的定位没有打开\");\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\t\t\tcontent: '请前往设置-隐私-定位服务打开定位服务功能',\r\n\t\t\t\t\t\t\tshowCancel: false, // 不显示取消按钮\r\n\t\t\t\t\t\t\tsuccess() {\r\n\t\t\t\t\t\t\t\tvar UIApplication = plus.ios.import(\"UIApplication\");\r\n\t\t\t\t\t\t\t\tvar application2 = UIApplication.sharedApplication();\r\n\t\t\t\t\t\t\t\tvar NSURL2 = plus.ios.import(\"NSURL\");\r\n\t\t\t\t\t\t\t\tvar setting2 = NSURL2.URLWithString(\"App-Prefs:root=Privacy&path=LOCATION\");\r\n\t\t\t\t\t\t\t\tapplication2.openURL(setting2);\r\n\t\t\t\t\t\t\t\tplus.ios.deleteObject(setting2);\r\n\t\t\t\t\t\t\t\tplus.ios.deleteObject(NSURL2);\r\n\t\t\t\t\t\t\t\tplus.ios.deleteObject(application2);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tgetDakaInfo() {\r\n\t\t\t\tgetDakaInfo().then(res => {\r\n\t\t\t\t\tthis.dakaInfo = res.data\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tback() {\r\n\t\t\t\tuni.sendNativeEvent('back')\r\n\t\t\t},\r\n\t\t\tdaka() {\r\n\t\t\t\tif (this.dakaInfo.status == 0) return\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle:\"打卡中...\",\r\n\t\t\t\t\tmask:true\r\n\t\t\t\t})\r\n\t\t\t\tthis.getWifi()\r\n\t\t\t\tthis.checkOpenGPSServiceByAndroidIOS()\r\n\t\t\t},\r\n\t\t\tdoDaka(){\r\n\t\t\t\tlet that = this\r\n\t\t\t\tlet data = {\r\n\t\t\t\t\tlon: this.lon,\r\n\t\t\t\t\tlat: this.lat,\r\n\t\t\t\t\twifi: this.wifi,\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(data);\r\n\t\t\t\tif (this.dakaInfo.dktime > new Date().getTime()) {\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\tcontent: '您确定要执行早退打卡？',\r\n\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\tgetDakaAct(data).then(res => {\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle: res.msg,\r\n\t\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\tthat.getDakaInfo()\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tgetDakaAct(data).then(res => {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: res.msg,\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tthis.getDakaInfo()\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n\t.header {\r\n\t\twidth: 100%;\r\n\t\theight: 408rpx;\r\n\t\tbackground: linear-gradient(0deg, rgba(0, 204, 146, 0.65) 0%, rgba(0, 204, 146, 1) 100%);\r\n\r\n\t\t.head {\r\n\t\t\tposition: relative;\r\n\t\t\tpadding: 30rpx;\r\n\r\n\t\t\timage {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tleft: 30rpx;\r\n\t\t\t\twidth: 50rpx;\r\n\t\t\t\theight: 50rpx;\r\n\t\t\t}\r\n\r\n\t\t\ttext {\r\n\t\t\t\tcolor: rgba(255, 255, 255, 1);\r\n\t\t\t\tfont-size: 36rpx;\r\n\t\t\t\tfont-weight: 400;\r\n\t\t\t}\r\n\r\n\t\t\tnavigator {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\ttop: 50%;\r\n\t\t\t\ttransform: translateY(-50%);\r\n\t\t\t\tright: 30rpx;\r\n\t\t\t\tcolor: rgba(255, 255, 255, 1);\r\n\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\tfont-weight: 700;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.headmain {\r\n\t\t\tmargin: 22rpx 34rpx;\r\n\r\n\t\t\timage {\r\n\t\t\t\twidth: 120rpx;\r\n\t\t\t\theight: 120rpx;\r\n\t\t\t\tborder-radius: 32rpx;\r\n\t\t\t\tmargin-right: 16rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.headInfo {\r\n\t\t\t\tpadding: 10rpx;\r\n\t\t\t\tcolor: #fff;\r\n\r\n\t\t\t\t.headTop {\r\n\t\t\t\t\ttext {\r\n\t\t\t\t\t\tfont-size: 36rpx;\r\n\t\t\t\t\t\tfont-weight: 400;\r\n\t\t\t\t\t\tmargin-right: 20rpx;\r\n\r\n\t\t\t\t\t\t&:last-child {\r\n\t\t\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.headBtm {\r\n\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.dakaMain {\r\n\t\tmargin-top: -40rpx;\r\n\t\tbackground: rgba(255, 255, 255, 1);\r\n\t\tborder-radius: 32rpx 32rpx 0rpx 0rpx;\r\n\t\toverflow: hidden;\r\n\t\tpadding: 10rpx 32rpx;\r\n\r\n\t\t.title {\r\n\t\t\twidth: 100%;\r\n\t\t\tcolor: rgba(56, 56, 56, 1);\r\n\t\t\tfont-size: 32rpx;\r\n\t\t\tfont-weight: 700;\r\n\t\t\tmargin: 20rpx 0;\r\n\t\t}\r\n\r\n\t\t.dklist {\r\n\t\t\twidth: 100%;\r\n\r\n\t\t\t.dkItem {\r\n\t\t\t\twidth: 48%;\r\n\t\t\t\tbackground: rgba(235, 255, 249, 1);\r\n\t\t\t\tborder-radius: 32rpx;\r\n\t\t\t\tpadding: 20rpx;\r\n\t\t\t\tbox-sizing: border-box;\r\n\r\n\t\t\t\t.dktime {\r\n\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\tfont-weight: 400;\r\n\t\t\t\t\tmargin-bottom: 30rpx;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.dkbtm {\r\n\t\t\t\t\timage {\r\n\t\t\t\t\t\twidth: 36rpx;\r\n\t\t\t\t\t\theight: 36rpx;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\ttext {\r\n\t\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\t\tfont-weight: 400;\r\n\t\t\t\t\t\tcolor: rgba(166, 166, 166, 1);\r\n\r\n\t\t\t\t\t\t&:last-child {\r\n\t\t\t\t\t\t\tbackground: rgba(255, 235, 214, 1);\r\n\t\t\t\t\t\t\tborder: 1px solid rgba(255, 141, 26, 1);\r\n\t\t\t\t\t\t\tborder-radius: 16rpx;\r\n\t\t\t\t\t\t\tpadding: 4rpx 10rpx;\r\n\t\t\t\t\t\t\tcolor: rgba(255, 141, 26, 1);\r\n\t\t\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\t\t\tfont-weight: 400;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.daka {\r\n\t\t\tmargin-top: 140rpx;\r\n\t\t\twidth: 400rpx;\r\n\t\t\theight: 400rpx;\r\n\t\t\tbackground: rgba(0, 204, 146, 0);\r\n\t\t\tborder: 1px solid rgba(0, 204, 146, 0.08);\r\n\t\t\tborder-radius: 50%;\r\n\t\t\tbox-shadow: inset 0px 0px 12px rgba(0, 204, 146, 0.16);\r\n\r\n\t\t\t.dakan {\r\n\t\t\t\tborder-radius: 50%;\r\n\t\t\t\twidth: 266rpx;\r\n\t\t\t\theight: 266rpx;\r\n\t\t\t\tbackground: linear-gradient(0deg, rgba(196, 196, 196, 1) 0%, rgba(0, 204, 146, 1) 0.66%, rgba(0, 204, 146, 0.65) 100%);\r\n\t\t\t\tbox-shadow: 1px 2px 6px 1px rgba(0, 204, 146, 0.68);\r\n\r\n\t\t\t\ttext {\r\n\t\t\t\t\tcolor: rgba(255, 255, 255, 1);\r\n\t\t\t\t\tfont-size: 36rpx;\r\n\t\t\t\t\tfont-weight: 700;\r\n\r\n\t\t\t\t\t&:last-child {\r\n\t\t\t\t\t\tcolor: rgba(255, 255, 255, 0.6);\r\n\t\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\t\tfont-weight: 400;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\n","import mod from \"-!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--10-oneOf-1-0!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-1!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-2!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--10-oneOf-1-3!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\less-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-4!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-5!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--10-oneOf-1-0!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-1!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-2!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--10-oneOf-1-3!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\less-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-4!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-5!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&lang=less&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1663119876940\n      var cssReload = require(\"C:/Users/Administrator/Desktop/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}